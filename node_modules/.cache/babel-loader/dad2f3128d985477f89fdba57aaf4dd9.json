{"remainingRequest":"D:\\self\\vue-test\\node_modules\\babel-loader\\lib\\index.js!D:\\self\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\self\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\self\\vue-test\\src\\components\\dishMatch\\DishMatch.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\self\\vue-test\\src\\components\\dishMatch\\DishMatch.vue","mtime":1542262355534},{"path":"D:\\self\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540522274048},{"path":"D:\\self\\vue-test\\node_modules\\babel-loader\\lib\\index.js","mtime":1540522264468},{"path":"D:\\self\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540522274048},{"path":"D:\\self\\vue-test\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1540522276737}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport API from '../../api';\nvar source;\nvar name = {\n  6: '饿了么星选',\n  16: '美团外卖',\n  10: '饿了么',\n  21: '京东到家'\n};\nvar column = [{\n  title: '规格',\n  key: 'dishProperty',\n  render: function render(text) {\n    return !text ? '-' : text;\n  }\n}, {\n  title: '名称',\n  key: 'dishName',\n  render: function render(text) {\n    return !text ? '-' : text;\n  }\n}, {\n  title: '匹配状态',\n  key: 'message',\n  render: function render(text) {\n    var h = arguments[0];\n    return text === '成功' ? h(\"span\", {\n      attrs: {\n        className: \"greenColor\"\n      }\n    }, [text]) : h(\"span\", {\n      attrs: {\n        className: \"redColor\"\n      }\n    }, [text]);\n  }\n}, {\n  title: '名称',\n  key: 'kryDishName',\n  render: function render(text) {\n    return !text ? '-' : text;\n  }\n}, {\n  title: '规格',\n  key: 'kryDishProperty',\n  render: function render(text) {\n    return !text ? '-' : text;\n  }\n}];\nexport default {\n  name: 'dishMatch',\n  data: function data() {\n    return {\n      type: '',\n      lastTime: '',\n      columns: column,\n      tableData: [],\n      successNo: '',\n      failNo: ''\n    };\n  },\n  methods: {\n    // 开始匹配\n    mappingStart: function mappingStart() {\n      var _this = this;\n\n      API.mapping({\n        brandId: 32299,\n        shopId: 810094332,\n        source: source,\n        userId: -3001,\n        userName: '贺文莉'\n      }).then(function (res) {\n        var _res$data = res.data,\n            _res$data$result = _res$data.result,\n            result = _res$data$result === void 0 ? [] : _res$data$result,\n            successNo = _res$data.successNo,\n            failNo = _res$data.failNo,\n            code = _res$data.code,\n            message = _res$data.message;\n\n        if (code === 0) {\n          _this.tableData = result || [];\n          _this.successNo = successNo;\n          _this.failNo = failNo;\n        } else {\n          _this.$Modal.error({\n            title: '提示',\n            content: message\n          });\n        }\n      }).catch(function (e) {\n        return alert(e);\n      });\n    },\n    // 分页\n    changePage: function changePage() {\n      this.tableData = this.mappingStart();\n    }\n  },\n  created: function created() {\n    source = location.href.split('=')[1];\n    this.type = name[source];\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    API.getLastMappingTime({\n      shopId: 810094332,\n      brandId: 32299,\n      source: source\n    }).then(function (data) {\n      _this2.lastTime = data.data.result;\n    });\n  }\n};",{"version":3,"sources":["DishMatch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,GAAA,MAAA,WAAA;AAEA,IAAA,MAAA;AACA,IAAA,OAAA;AACA,KAAA,OADA;AAGA,MAAA,MAHA;AAIA,MAAA,KAJA;AAKA,MAAA;AALA,CAAA;AAOA,IAAA,SAAA,CACA;AACA,SAAA,IADA;AAEA,OAAA,cAFA;AAGA,QAHA,kBAGA,IAHA,EAGA;AACA,WAAA,CAAA,IAAA,GAAA,GAAA,GAAA,IAAA;AACA;AALA,CADA,EAQA;AACA,SAAA,IADA;AAEA,OAAA,UAFA;AAGA,QAHA,kBAGA,IAHA,EAGA;AACA,WAAA,CAAA,IAAA,GAAA,GAAA,GAAA,IAAA;AACA;AALA,CARA,EAeA;AACA,SAAA,MADA;AAEA,OAAA,SAFA;AAGA,QAHA,kBAGA,IAHA,EAGA;AAAA;AACA,WAAA,SAAA,IAAA,GACA;AAAA;AAAA,mBAAA;AAAA;AAAA,QAAA,IAAA,EADA,GAGA;AAAA;AAAA,mBAAA;AAAA;AAAA,QAAA,IAAA,EAHA;AAKA;AATA,CAfA,EA0BA;AACA,SAAA,IADA;AAEA,OAAA,aAFA;AAGA,QAHA,kBAGA,IAHA,EAGA;AACA,WAAA,CAAA,IAAA,GAAA,GAAA,GAAA,IAAA;AACA;AALA,CA1BA,EAiCA;AACA,SAAA,IADA;AAEA,OAAA,iBAFA;AAGA,QAHA,kBAGA,IAHA,EAGA;AACA,WAAA,CAAA,IAAA,GAAA,GAAA,GAAA,IAAA;AACA;AALA,CAjCA,CAAA;AA0CA,eAAA;AACA,QAAA,WADA;AAEA,QAAA,gBAAA;AACA,WAAA;AACA,YAAA,EADA;AAEA,gBAAA,EAFA;AAGA,eAAA,MAHA;AAIA,iBAAA,EAJA;AAKA,iBAAA,EALA;AAMA,cAAA;AANA,KAAA;AAQA,GAXA;AAYA,WAAA;AACA;AACA,kBAAA,wBAAA;AAAA;;AACA,UAAA,OAAA,CAAA;AACA,iBAAA,KADA;AAEA,gBAAA,SAFA;AAGA,sBAHA;AAIA,gBAAA,CAAA,IAJA;AAKA,kBAAA;AALA,OAAA,EAOA,IAPA,CAOA,eAAA;AAAA,wBACA,IAAA,IADA;AAAA,yCACA,MADA;AAAA,YACA,MADA,iCACA,EADA;AAAA,YACA,SADA,aACA,SADA;AAAA,YACA,MADA,aACA,MADA;AAAA,YACA,IADA,aACA,IADA;AAAA,YACA,OADA,aACA,OADA;;AAGA,YAAA,SAAA,CAAA,EAAA;AACA,gBAAA,SAAA,GAAA,UAAA,EAAA;AACA,gBAAA,SAAA,GAAA,SAAA;AACA,gBAAA,MAAA,GAAA,MAAA;AACA,SAJA,MAIA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA;AACA,mBAAA,IADA;AAEA,qBAAA;AAFA,WAAA;AAIA;AACA,OApBA,EAqBA,KArBA,CAqBA;AAAA,eAAA,MAAA,CAAA,CAAA;AAAA,OArBA;AAsBA,KAzBA;AA0BA;AACA,gBAAA,sBAAA;AACA,WAAA,SAAA,GAAA,KAAA,YAAA,EAAA;AACA;AA7BA,GAZA;AA2CA,WAAA,mBAAA;AACA,aAAA,SAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA;AACA,GA9CA;AA+CA,WAAA,mBAAA;AAAA;;AACA,QAAA,kBAAA,CAAA;AAAA,cAAA,SAAA;AAAA,eAAA,KAAA;AAAA;AAAA,KAAA,EAAA,IAAA,CACA,gBAAA;AACA,aAAA,QAAA,GAAA,KAAA,IAAA,CAAA,MAAA;AACA,KAHA;AAKA;AArDA,CAAA","sourcesContent":["<template>\n  <div class=\"dishMatch\">\n    <Row class=\"dishMatch_header\">\n          <i-Col span=\"18\" push=\"11\">\n          <Button @click=\"mappingStart\"> \n            开始匹配\n          </Button>\n          <Button to=\"/dishMatchHome\"> \n            返回列表\n          </Button>\n        </i-Col>\n        <i-Col span=\"6\" pull=\"18\">\n          {{ type }}商品映射\n        </i-Col>\n    </Row>\n    <Tabs size=\"small\">\n      <TabPane label=\"匹配信息\">\n        <div class=\"mappingText\">\n          <p>上次匹配时间：{{ lastTime }}</p>\n          <P>\n            当前匹配状态：\n            <span v-if=\"successNo\">\n              匹配失败\n              <span className=\"redColor\">{{ failNo }}</span>\n              笔数据, 匹配成功\n              <span className=\"greenColor\">{{ successNo }}</span>\n              笔数据\n            </span>\n            <span v-else>\n              未匹配\n            </span>\n          </P>\n        </div>\n        <div>\n          <span class=\"mappingTitle\">{{ type }}</span>\n          <span class=\"mappingTitle\">客如云</span>\n        </div>\n        <Table :columns=\"columns\" :data=\"tableData\"></Table>\n        <div style=\"margin: 10px;overflow: hidden\" v-if=\"successNo\">\n          <div style=\"float: right;\">\n              <Page :total=\"30\" :current=\"1\" @on-change=\"changePage\"></Page>\n          </div>\n        </div>\n      </TabPane>\n    </Tabs>\n  </div>\n</template>\n\n<script>\nimport API from '../../api';\n\nlet source;\nconst name = {\n  6: '饿了么星选',\n\n  16: '美团外卖',\n  10: '饿了么',\n  21: '京东到家',\n};\nconst column = [\n  {\n    title: '规格',\n    key: 'dishProperty',\n    render(text) {\n      return !text ? '-' : text;\n    },\n  },\n  {\n    title: '名称',\n    key: 'dishName',\n    render(text) {\n      return !text ? '-' : text;\n    },\n  },\n  {\n    title: '匹配状态',\n    key: 'message',\n    render(text) {\n      return text === '成功' ? (\n        <span className=\"greenColor\">{text}</span>\n      ) : (\n        <span className=\"redColor\">{text}</span>\n      );\n    },\n  },\n  {\n    title: '名称',\n    key: 'kryDishName',\n    render(text) {\n      return !text ? '-' : text;\n    },\n  },\n  {\n    title: '规格',\n    key: 'kryDishProperty',\n    render(text) {\n      return !text ? '-' : text;\n    },\n  },\n];\n\nexport default {\n  name: 'dishMatch',\n  data: function() {\n    return {\n      type: '',\n      lastTime: '',\n      columns: column,\n      tableData: [],\n      successNo: '',\n      failNo: '',\n    };\n  },\n  methods: {\n    // 开始匹配\n    mappingStart: function() {\n      API.mapping({\n        brandId: 32299,\n        shopId: 810094332,\n        source,\n        userId: -3001,\n        userName: '贺文莉',\n      })\n        .then(res => {\n          const { result = [], successNo, failNo, code, message } = res.data;\n\n          if (code === 0) {\n            this.tableData = result || [];\n            this.successNo = successNo;\n            this.failNo = failNo;\n          } else {\n            this.$Modal.error({\n              title: '提示',\n              content: message,\n            });\n          }\n        })\n        .catch(e => alert(e));\n    },\n    // 分页\n    changePage: function() {\n      this.tableData = this.mappingStart();\n    },\n  },\n  created: function() {\n    source = location.href.split('=')[1];\n    this.type = name[source];\n  },\n  mounted: function() {\n    API.getLastMappingTime({ shopId: 810094332, brandId: 32299, source }).then(\n      data => {\n        this.lastTime = data.data.result;\n      },\n    );\n  },\n};\n</script>\n\n<style>\n.dishMatch {\n  width: 90%;\n  margin: 0 auto;\n  line-height: 40px;\n}\n.mappingText {\n  text-align: left;\n}\n\n.mappingTitle {\n  font-size: 30px;\n  margin: 0 20% 0 10%;\n  color: #ccc;\n}\n\n.greenColor {\n  color: green;\n}\n\n.redColor {\n  color: red;\n}\n</style>\n\n\n\n\n"],"sourceRoot":"src\\components\\dishMatch"}]}